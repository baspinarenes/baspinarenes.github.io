---
title: "Kıssadan Golang [Draft]"
date: 2022-10-11
summary: "Golang çalışırken tuttuğum kısa notlar."
---

<CustomImage src="/images/post/backend/kissadan-golang/001.jpeg" reference="https://github.com/golang/go" width={715} height={429} fluid/>

## Golang Nedir?

Golang, C gibi ama daha basit, hızlıca derlenebilen, multi thread bir dildir.
Daha çok mikroservis uygulamalarında kullanılır.

## Temel Dosya İçeriği

* Basit bir Golang dosyasının yapısı (kodu çalıştırmak için `go run main.go`):

```go
// kod organizasyonu paketler ile sağlanır.
// aynı klasör içinde bulunan dosyalarda paket ismi aynı olmalıdır.
package main 

// klasik library dahil etme şekli
import "fmt"

// programın giriş noktasıdir.
// her pakette yalnızca bir dosyada main fonksiyonu olabilir.
func main() {
  fmt.Println("Hello World")
}
```

## Yazdırma Biçimleri

* Farklı yazdırma fonksiyonlarına sahiptir. `Print` ile başlayanlar
stdout'a yani konsola çıktı verir. `Fprint` olanlar dosya ve tarayıcı
gibi dış bir kaynağa, `Sprint` olanlar ise çıktıyı **character buffer**'da
saklar.

```go
package main 

import "fmt"

func main(){
  // Printler metnin byte sayısını döndürür.
  fmt.Println("Hello!")
  fmt.Print("Hello!\n")
  fmt.Printf("Hi! My name is %s. I have lived in %s for %d years. They say the weather is amazing, which is %t", "Enes", "Bursa", 23, true)

  // "Hello Enes!" metni döndürür ama çıktı vermez.
  fmt.Sprintf("Hello %s!", "Enes")
}
```

## Tipler

* Veri tipleri şunlardır:
  - Integer: **int**, **int8**, **int16**, **int32**, **int64**, **uint**, **uint8**, **uint16**, **uint32**, **uint64**
  - Float: **float32**, **float64**
  - String: **string**
  - Boolean: **bool**
  - Null: **nil**
* Bir değerin tipini görmek istersek `reflect.TypeOf()` kullanabiliriz.

```go
fmt.Println(reflect.TypeOf("Enes")) // => string
```
* Tür adlarıyla aynı fonksiyonları convert için kullanabiliriz.

## Değişkenler

* Değişken farklı çeşitlerde tanımlanır.

```go
var text string = "Text"
var text2 = "Text2" // tip için çıkarım (inference) yapabilir. 
var text3 string // type vermek zorundayız.
text3 = "Text3"
var text4, text5 = "Text4", "Text5"

// var keywordüne gerek kalmadan değişkeni tanımlar
// ve tipini çıkarır. fonksiyon dışında kullanılamaz.
text6 := "Text6" // eğer değer olmasaydı nil atanırdı.
```

## Koşul Yapıları

* `if-else` yapısı parantezsizdir.

```go
if num > 50 {
  // ...
} else if num > 20 {
  // ...
} else {
  // ...
}
```

* Eğer bir fonksiyonun değerine göre işlem yapcaksak
farklı bir sözdizimi daha mevcut.

```go
// err değişkeni sadece bu blok içinden erişilebilir.
if err := someFunction(); err != nil {
  fmt.Println(err.Error())
}
```

* `switch` yapısının iki kullanımı vardır. Değişkenin eşitliğini kontrol
edeceksek değişkeni verebiliriz. Aksi takdirde atlayabiliriz. Eğer
altındaki `case` ile ilerletmek istersek `fallthrough` kullanabiliriz.

```go
var variable string

switch variable {
  case "...":
    // ...
  case "...":
    // ...
  default:
    // ...
}

//=================

var num string

switch {
  case num < 50:
    // ...
  case num < 100:
    // ...
  default:
    // ...
}
```

* `for` yapısının da farklı kullanımları mevcut. `while` için ayrı
bir yapı söz konusu değildir.

```go
for i := 1; i <= 100; i++ {
  fmt.Println(i)
}

i := 0
for i <= 100 {
	fmt.Println(i)
	// This will behave like a while loop
	i += 1
}
```

* Dizilerin elemanlarını iterate etmek istersek `range` kullanabiliriz.

```go
var mySentence = "Sentence"

// indexi göz ardı edeceksek '_' kullanabiliriz.
for index, letter := range mySentence {
  // letter byte değerini döner. harfi almak için stringe çeviririz.
  fmt.Println("Index:", index, "Letter:", string(letter))
}
```

<CodeResult>
Index: 0 Letter: S
Index: 1 Letter: e
Index: 2 Letter: n
Index: 3 Letter: t
Index: 4 Letter: e
Index: 5 Letter: n
Index: 6 Letter: c
Index: 7 Letter: e
</CodeResult>

## Diğer

* Paketlerin dökümantasyonlarını görmek için `go doc fmt` yazabiliriz.
Özel fonksiyon dökümantasyonu için `go doc fmt.Println`.

```go
func Fprint(w io.Writer, a ...any) (n int, err error)
func Fprintf(w io.Writer, format string, a ...any) (n int, err error)
func Fprintln(w io.Writer, a ...any) (n int, err error)
func Print(a ...any) (n int, err error)
func Printf(format string, a ...any) (n int, err error)
func Println(a ...any) (n int, err error)
func Sprint(a ...any) string
func Sprintf(format string, a ...any) string
func Sprintln(a ...any) string
...
```